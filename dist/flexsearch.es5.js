/**!
 * FlexSearch.js v0.7.0-beta (ES5)
 * Copyright 2019 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/flexsearch
 */
(function(self){'use strict';var u;function v(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var y="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function aa(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var A=aa(this);function B(a,b){if(b)a:{var c=A;a=a.split(".");for(var d=0;d<a.length-1;d++){var f=a[d];if(!(f in c))break a;c=c[f]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&y(c,a,{configurable:!0,writable:!0,value:b})}}
B("Symbol",function(a){function b(g){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(d+(g||"")+"_"+f++,g)}function c(g,e){this.g=g;y(this,"description",{configurable:!0,writable:!0,value:e})}if(a)return a;c.prototype.toString=function(){return this.g};var d="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",f=0;return b});
B("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=A[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&y(d.prototype,a,{configurable:!0,writable:!0,value:function(){return ba(v(this))}})}return a});function ba(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
function ca(a,b){a instanceof String&&(a+="");var c=0,d=!1,f={next:function(){if(!d&&c<a.length){var g=c++;return{value:b(g,a[g]),done:!1}}d=!0;return{done:!0,value:void 0}}};f[Symbol.iterator]=function(){return f};return f}B("Array.prototype.keys",function(a){return a?a:function(){return ca(this,function(b){return b})}});function C(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:v(a)}}
B("Promise",function(a){function b(e){this.h=0;this.i=void 0;this.g=[];this.B=!1;var h=this.j();try{e(h.resolve,h.reject)}catch(k){h.reject(k)}}function c(){this.g=null}function d(e){return e instanceof b?e:new b(function(h){h(e)})}if(a)return a;c.prototype.h=function(e){if(null==this.g){this.g=[];var h=this;this.i(function(){h.o()})}this.g.push(e)};var f=A.setTimeout;c.prototype.i=function(e){f(e,0)};c.prototype.o=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var h=0;h<e.length;++h){var k=
e[h];e[h]=null;try{k()}catch(l){this.j(l)}}}this.g=null};c.prototype.j=function(e){this.i(function(){throw e;})};b.prototype.j=function(){function e(l){return function(n){k||(k=!0,l.call(h,n))}}var h=this,k=!1;return{resolve:e(this.K),reject:e(this.o)}};b.prototype.K=function(e){if(e===this)this.o(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof b)this.M(e);else{a:switch(typeof e){case "object":var h=null!=e;break a;case "function":h=!0;break a;default:h=!1}h?this.J(e):this.A(e)}};
b.prototype.J=function(e){var h=void 0;try{h=e.then}catch(k){this.o(k);return}"function"==typeof h?this.N(h,e):this.A(e)};b.prototype.o=function(e){this.D(2,e)};b.prototype.A=function(e){this.D(1,e)};b.prototype.D=function(e,h){if(0!=this.h)throw Error("Cannot settle("+e+", "+h+"): Promise already settled in state"+this.h);this.h=e;this.i=h;2===this.h&&this.L();this.P()};b.prototype.L=function(){var e=this;f(function(){if(e.R()){var h=A.console;"undefined"!==typeof h&&h.error(e.i)}},1)};b.prototype.R=
function(){if(this.B)return!1;var e=A.CustomEvent,h=A.Event,k=A.dispatchEvent;if("undefined"===typeof k)return!0;"function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof h?e=new h("unhandledrejection",{cancelable:!0}):(e=A.document.createEvent("CustomEvent"),e.initCustomEvent("unhandledrejection",!1,!0,e));e.promise=this;e.reason=this.i;return k(e)};b.prototype.P=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)g.h(this.g[e]);this.g=null}};var g=new c;b.prototype.M=
function(e){var h=this.j();e.F(h.resolve,h.reject)};b.prototype.N=function(e,h){var k=this.j();try{e.call(h,k.resolve,k.reject)}catch(l){k.reject(l)}};b.prototype.then=function(e,h){function k(m,p){return"function"==typeof m?function(r){try{l(m(r))}catch(t){n(t)}}:p}var l,n,q=new b(function(m,p){l=m;n=p});this.F(k(e,l),k(h,n));return q};b.prototype.catch=function(e){return this.then(void 0,e)};b.prototype.F=function(e,h){function k(){switch(l.h){case 1:e(l.i);break;case 2:h(l.i);break;default:throw Error("Unexpected state: "+
l.h);}}var l=this;null==this.g?g.h(k):this.g.push(k);this.B=!0};b.resolve=d;b.reject=function(e){return new b(function(h,k){k(e)})};b.race=function(e){return new b(function(h,k){for(var l=C(e),n=l.next();!n.done;n=l.next())d(n.value).F(h,k)})};b.all=function(e){var h=C(e),k=h.next();return k.done?d([]):new b(function(l,n){function q(r){return function(t){m[r]=t;p--;0==p&&l(m)}}var m=[],p=0;do m.push(void 0),p++,d(k.value).F(q(m.length-1),n),k=h.next();while(!k.done)})};return b});
var da="function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(a[f]=d[f])}return a};B("Object.assign",function(a){return a||da});var E=/[\W_]+/;function ea(a){if(a=a.toLowerCase())if(a&&this.G&&(a=fa(a,this.G)),this.I&&1<a.length&&(a=fa(a,this.I)),a&&(E||""===E)&&(a=a.split(E),this.filter)){for(var b=this.filter,c=a.length,d=[],f=0,g=0;f<c;f++){var e=a[f];e&&!b[e]&&(d[g++]=e)}a=d}return a};function F(a,b){return"undefined"!==typeof a?a:b}function ha(a){for(var b=Array(a),c=0;c<a;c++)b[c]=G();return b}function G(){return Object.create(null)}function ia(a,b){return b.length-a.length}function H(a){return"string"===typeof a}function I(a){return"object"===typeof a}function K(a){return"function"===typeof a};function ja(a,b){for(var c=Object.keys(a),d=c.length,f=[],g="",e=0,h=0,k,l;h<d;h++)k=c[h],(l=a[k])?(f[e++]=new RegExp(b?"(?!\\b)"+k+"(\\b|_)":k,"g"),f[e++]=l):g+=(g?"|":"")+k;g&&(f[e++]=new RegExp(b?"(?!\\b)("+g+")(\\b|_)":"("+g+")","g"),f[e]="");return f}function fa(a,b){for(var c=0,d=b.length;c<d&&(a=a.replace(b[c],b[c+1]),a);c+=2);return a};var ka={},la={};var ma=Promise;function na(a){L(a,"add");L(a,"append");L(a,"search");L(a,"update");L(a,"remove")}function L(a,b){a[b+"Async"]=function(){var c=this,d=arguments,f=d[d.length-1];if(K(f)){var g=f;delete d[d.length-1]}f=new ma(function(e){setTimeout(function(){c.async=!0;e(c[b].apply(c,d));c.async=!1})});return g?(f.then(g),this):f}};function oa(a,b,c,d){var f=a.length,g=[],e=0;d&&(d=[]);for(--f;0<=f;f--){for(var h=a[f],k=h.length,l=G(),n=!w,q=0;q<k;q++){var m=h[q],p=m.length;if(p)for(var r=0,t=0,x;r<p;r++)if(x=m[r],!w)l[x]=1;else if(w[x]){if(f)d&&t<b&&((d[q]||(d[q]=[]))[t++]=x),l[x]=1;else if(c)c--;else if(g[e++]=x,e===b)return g;n=!0}}if(!n&&!d)return[];var w=l}if(d)for(a=d.length-1;0<=a;a--)if((f=(w=d[a])&&w.length)&&c&&(f<=c?(c-=f,f=0):f-=c),f){if(e+f>=b)return g.concat(w.slice(c,b-e+c));g=g.concat(c?w.slice(c):w);e+=f;c=
0}return g}function qa(a,b){for(var c=G(),d=G(),f=[],g=0;g<a.length;g++)c[a[g]]=1;for(a=0;a<b.length;a++){g=b[a];for(var e=0,h;e<g.length;e++)h=g[e],c[h]&&!d[h]&&(d[h]=1,f[f.length]=h)}return f};function M(a){this.h=!0!==a&&a;this.cache=G();this.g=[]}function ra(a,b,c){I(a)&&(a=a.query);var d=this.cache.get(a);d||(d=this.search(a,b,c),this.cache.set(a,d));return d}M.prototype.set=function(a,b){if(!this.cache[a]){var c=this.g.length;c===this.h?delete this.cache[this.g[c-1]]:c++;for(--c;0<c;c--)this.g[c]=this.g[c-1];this.g[0]=a}this.cache[a]=b};M.prototype.get=function(a){var b=this.cache[a];if(this.h&&b&&(a=this.g.indexOf(a))){var c=this.g[a-1];this.g[a-1]=this.g[a];this.g[a]=c}return b};var sa={memory:{charset:"latin:extra",v:3,u:3,m:!1,s:"memory"},performance:{threshold:8,u:3,context:{depth:1,C:!0}},match:{charset:"latin:extra",O:"full",v:3},score:{charset:"latin:advanced",threshold:1,context:{depth:3,C:!0}},"default":{v:3,threshold:0,depth:3}};function ta(a,b,c,d,f,g){setTimeout(function(){var e=a(c,JSON.stringify(g));e&&e.then?e.then(function(){b.export(a,b,c,d,f+1)}):b.export(a,b,c,d,f+1)})};function N(a,b){if(!(this instanceof N))return new N(a);var c;if(a){H(a)?a=sa[a]:(c=a.preset)&&(a=Object.assign({},c[c],a));c=a.charset;var d=a.lang;H(c)&&(-1===c.indexOf(":")&&(c+=":default"),c=la[c]);H(d)&&(d=ka[d])}else a={};var f,g=a.context||{};this.encode=a.encode||c&&c.encode||ea;this.register=b||G();var e=a.resolution||9;var h=a.threshold||0;h>=e&&(h=e-1);this.v=e;this.threshold=h;this.j=b=c&&c.O||a.tokenize||"strict";this.depth="strict"===b&&g.depth;this.C=F(g.bidirectional,!0);this.s=f=
"memory"===a.optimize;this.m=F(a.fastupdate,!0);this.u=a.minlength||1;this.map=f?ha(e-h):G();e=g.resolution||e;h=g.threshold||h;h>=e&&(h=e-1);this.h=e;this.i=h;this.g=f?ha(e-h):G();this.H=c&&c.H||a.rtl;this.G=(b=a.matcher||d&&d.G)&&ja(b,!1);this.I=(b=a.stemmer||d&&d.I)&&ja(b,!0);if(c=b=a.filter||d&&d.filter){c=b;d=G();g=0;for(e=c.length;g<e;g++)d[c[g]]=1;c=d}this.filter=c;this.cache=(b=a.cache)&&new M(b)}u=N.prototype;u.append=function(a,b){return this.add(a,b,!0)};
u.add=function(a,b,c){if(this.register[a]&&!c)return this.update(a,b);if(b&&(a||0===a)){b=this.encode(b);var d=b.length;if(d){for(var f=this.depth,g=this.v-this.threshold,e=G(),h=G(),k=0;k<d;k++){var l=b[this.H?d-1-k:k],n=l.length;if(l&&n>=this.u&&(f||!e[l])){var q=Math.min(this.v/d*k|0,k);if(q<g){var m="";switch(this.j){case "full":if(3<n){for(var p=0;p<n;p++){var r=p?Math.min(q/2+this.v/n*p/2|0,q+p):q;if(r<g)for(var t=n;t>p;t--)m=l.substring(p,t),m.length>=this.u&&O(this,e,m,r,a,c)}break}case "reverse":if(2<
n){for(p=n-1;0<p;p--)m=l[p]+m,m.length>=this.u&&O(this,e,m,q,a,c);m=""}case "forward":if(1<n)for(p=0;p<n;p++)m+=l[p],m.length>=this.u&&O(this,e,m,q,a,c);break;default:if(O(this,e,l,q,a,c),f&&1<d&&k<d-1)for(n=this.h-this.i,q=G(),m=l,p=Math.min(f+1,d-k),r=q[m]=1;r<p;r++)if((l=b[this.H?d-1-k-r:k+r])&&l.length>=this.u&&!q[l]){if(q[l]=1,t=Math.min((this.h-p)/d*k+r|0,k+(r-1)),t<n){var x=this.C&&l>m;O(this,h,x?m:l,t,a,c,x?l:m)}}else p=Math.min(p+1,d-k)}}}}this.m||(this.register[a]=1)}}return this};
function O(a,b,c,d,f,g,e){var h=e?a.g:a.map;if(!b[c]||e&&!b[c][e])a.s&&(h=h[d]),e?(b=b[c]||(b[c]=G()),b[e]=1,h=h[e]||(h[e]=G())):b[c]=1,h=h[c]||(h[c]=[]),a.s||(h=h[d]||(h[d]=[])),g&&-1!==h.indexOf(f)||(h[h.length]=f,a.m&&(a=a.register[f]||(a.register[f]=[]),a[a.length]=h))}
u.search=function(a,b,c){I(a)?(c=a,a=c.query):I(b)&&(c=b);var d=[],f=this.threshold,g=0;if(c){b=c.limit;g=c.offset||0;f=F(c.threshold,f);var e=c.context;var h=c.suggest}if(a){a=this.encode(a);var k=a.length;if(1<k){c=G();for(var l=[],n=0,q=0,m;n<k;n++)if((m=a[n])&&m.length>=this.u&&!c[m])if(this.s||h||this.map[m])l[q++]=m,c[m]=1;else return d;a=l;k=a.length}}if(!k)return d;b||(b=100);c=this.v-f;f=this.h-f;e=this.depth&&1<k&&!1!==e;l=0;if(e){var p=a[0];l=1}else 1<k&&a.sort(ia);for(;l<k;l++){q=a[l];
e?(n=ua(this,d,h,f,b,g,2===k,q,p),h&&!1===n&&d.length||(p=q)):n=ua(this,d,h,c,b,g,1===k,q);if(n)return n;if(h&&l===k-1){n=d.length;if(!n){if(e){e=0;l=-1;continue}return d}if(1===n)return va(d[0],b,g)}}return oa(d,b,g,h)};
function ua(a,b,c,d,f,g,e,h,k){var l=[],n=k?a.g:a.map;a.s||(n=wa(n,h,k,a.C));if(n){var q=0;d=Math.min(n.length,d);for(var m=0,p=0,r,t;m<d&&!(r=n[m],a.s&&(r=wa(r,h,k,a.C)),r&&e&&(t=r.length,t<=g?(g-=t,r=null):g&&(r=r.slice(g),g=0)),r&&(l[q++]=r,e&&(p+=r.length,p>=f)));m++);if(q){if(e)return va(l,f,0);b[b.length]=l;return}}return!c&&l}function va(a,b,c){a=1===a.length?a[0]:[].concat.apply([],a);return c||a.length>b?a.slice(c,c+b):a}
function wa(a,b,c,d){c?(d=d&&b>c,a=(a=a[d?b:c])&&a[d?c:b]):a=a[b];return a}u.contain=function(a){return!!this.register[a]};u.update=function(a,b){return this.remove(a).add(a,b)};
u.remove=function(a,b){var c=this.register[a];if(c){if(this.m)for(var d=0,f;d<c.length;d++)f=c[d],f.splice(f.indexOf(a),1);else P(this.map,a,this.v-this.threshold,this.s),this.depth&&P(this.g,a,this.h-this.i,this.s);b||delete this.register[a];if(this.cache)for(b=this.cache,c=0;c<b.g.length;c++)f=b.g[c],d=b.cache[f],-1!==d.indexOf(a)&&(b.g.splice(c--,1),delete b.cache[f])}return this};
function P(a,b,c,d,f){var g=0;if(a.constructor===Array)if(f)b=a.indexOf(b),-1!==b?1<a.length&&(a.splice(b,1),g++):g++;else{f=Math.min(a.length,c);for(var e=0,h;e<f;e++)if(h=a[e])g=P(h,b,c,d,f),d||g||delete a[e]}else for(e in a)(g=P(a[e],b,c,d,f))||delete a[e];return g}u.searchCache=ra;
u.export=function(a,b,c,d,f){switch(f||(f=0)){case 0:var g="reg";if(this.m){var e=G();for(var h in this.register)e[h]=1}else e=this.register;break;case 1:g="cfg";e={doc:0,opt:this.s?1:0};break;case 2:g="map";e=this.map;break;case 3:g="ctx";e=this.g;break;default:return}ta(a,b||this,c?c+"."+g:g,d,f,e);return!0};u.import=function(a,b){if(b)switch(H(b)&&(b=JSON.parse(b)),a){case "cfg":this.s=!!b.opt;break;case "reg":this.m=!1;this.register=b;break;case "map":this.map=b;break;case "ctx":this.g=b}};na(N.prototype);function xa(a){var b=self._index;a=a.data;var c=a.args,d=a.task;switch(d){case "init":b=a.options||{};a=a.factory;c=b.encode;b.cache=!1;c&&0===c.indexOf("function")&&(b.encode=Function("return "+c)());a?(Function("return "+a)()(self),self._index=new self.FlexSearch.Index(b),delete self.FlexSearch):self._index=new N(b);break;case "search":b=b.search.apply(b,c);postMessage(b);break;default:b[d].apply(b,c)}};function Q(a,b){var c;I(a)?b=a:b?K(c=b.encode)&&(b.encode=c.toString()):b={};(a=(self||window)._factory)&&(a=a.toString());c=self.exports;if(this.l=ya(a,c)){this.g=null;var d=this;if(c)this.l.on("message",function(f){d.g(f)});else this.l.onmessage=function(f){d.g(f.data)};this.l.postMessage({task:"init",factory:a,options:b})}}R("add");R("append");R("search");R("update");R("remove");
function R(a){Q.prototype[a]=Q.prototype[a+"Async"]=function(){var b=this,c=[].slice.call(arguments),d=c[c.length-1];if(K(d)){var f=d;c.splice(c.length-1,1)}d=new ma(function(g){setTimeout(function(){b.l.postMessage({task:a,args:c});"search"===a?b.g=g:g()})});return f?(d.then(f),this):d}}
function ya(a,b){try{var c=b?eval('new (require("worker_threads")["Worker"])("../dist/node/node.js")'):a?new Worker(URL.createObjectURL(new Blob(["onmessage="+xa.toString()],{type:"text/javascript"}))):new Worker("worker.js",{type:"module"})}catch(d){}return c};function S(a){if(!(this instanceof S))return new S(a);var b;a||(a={});this.D=[];this.g=[];this.j=[];this.register=G();this.key=(b=a.key)&&T(b,this.j)||"id";this.m=F(a.fastupdate,!0);this.A=!!(b=a.extern);this.o=!this.A&&(b=a.store)&&!0!==b&&[];this.store=b&&(this.A?b:G());this.B=(b=a.tag)&&T(b,this.j);this.h=b&&G();this.cache=(b=a.cache)&&new M(b);a.cache=!1;this.l=a.worker;this.async=!1;b=a;a=G();var c=b.doc;if(H(c))c=[c];else if(c.constructor!==Array){var d=c;c=Object.keys(c)}for(var f=0,g,e=void 0;f<
c.length;f++)g=c[f],H(g)?d&&(e=d[g]):(e=g,g=g.field),e=I(e)?Object.assign({},b,e):b,this.l&&(a[g]=new Q(e),a[g].l||(this.l=!1)),this.l||(a[g]=new N(e,this.register)),this.D[f]=T(g,this.j),this.g[f]=g;if(this.o)for(d=b.store,H(d)&&(d=[d]),b=0;b<d.length;b++)this.o[b]=T(d[b],this.j);this.i=a}function T(a,b){for(var c=a.split(":"),d=0,f=0;f<c.length;f++)a=c[f],0<=a.indexOf("[]")&&(a=a.substring(0,a.length-2))&&(b[d]=!0),a&&(c[d++]=a);d<c.length&&(c.length=d);return 1<d?c:c[0]}
function za(a,b){if(H(b))a=a[b];else for(var c=0;a&&c<b.length;c++)a=a[b[c]];return a}function U(a,b,c,d,f){a=a[f];if(d===c.length-1)b[f]=a;else if(a)if(a.constructor===Array)for(b=b[f]=Array(a.length),f=0;f<a.length;f++)U(a,b,c,d,f);else b=b[f]||(b[f]=G()),f=c[++d],U(a,b,c,d,f)}
function W(a,b,c,d,f,g,e,h){a=a[e];if(d===b.length-1){if(a.constructor===Array){if(c[d]){for(b=0;b<a.length;b++)f.add(g,a[b],!0);return}a=a.join(" ")}f.add(g,a,h)}else if(a)if(a.constructor===Array)for(e=0;e<a.length;e++)W(a,b,c,d,f,g,e,h);else e=b[++d],W(a,b,c,d,f,g,e,h)}u=S.prototype;
u.add=function(a,b,c){I(a)&&(b=a,a=za(b,this.key));if(b&&(a||0===a)){if(this.register[a])return this.update(a,b);for(var d=0,f,g;d<this.g.length;d++)g=this.g[d],f=this.D[d],H(f)&&(f=[f]),W(b,f,this.j,0,this.i[g],a,f[0],c);if(this.B){d=za(b,this.B);f=G();H(d)&&(d=[d]);g=0;for(var e;g<d.length;g++)if(e=d[g],!f[e]&&(f[e]=1,e=this.h[e]||(this.h[e]=[]),!c||-1===e.indexOf(a)))if(e[e.length]=a,this.m){var h=this.register[a]||(this.register[a]=[]);h[h.length]=e}}if(this.store&&!this.A){if(this.o){var k=G();
for(c=0;c<this.o.length;c++)d=this.o[c],H(d)?k[d]=b[d]:U(b,k,d,0,d[0])}this.store[a]=k||b}}return this};u.append=function(a,b){return this.add(a,b,!0)};u.update=function(a,b){return this.remove(a).add(a,b)};
u.remove=function(a){I(a)&&(a=a[this.key]);if(this.register[a]){for(var b=0;b<this.g.length&&(this.i[this.g[b]].remove(a,!0),!this.m||this.l);b++);if(this.B&&(!this.m||this.l))for(var c in this.h){b=this.h[c];var d=b.indexOf(a);-1!==d&&(1<b.length?b.splice(d,1):delete this.h[c])}this.store&&!this.A&&delete this.store[a];delete this.register[a]}return this};
u.search=function(a,b,c,d){I(a)?(c=a,a=c.query):I(b)&&(c=b,b=0);var f=[],g=[],e,h=0;if(c)if(c.constructor===Array){var k=c;c=null}else{k=(e=c.pluck)||c.field||c.doc;var l=c.tag;var n=this.store&&c.enrich;var q="and"===c.bool;b=c.limit||100;var m=c.offset||0;if(k)if(H(k))k=[k];else if(k.constructor!==Array){var p=k;k=Object.keys(k)}if(l&&(H(l)&&(l=[l]),!a)){g=0;for(e=void 0;g<l.length;g++)if(e=Aa.call(this,l[g],b,m,n))f[f.length]=e,h++;return h?f:[]}}k||(k=this.g);q=q&&(1<k.length||l&&1<l.length);
for(var r=!d&&(this.l||this.async)&&[],t=0,x=void 0,w=void 0,z=void 0;t<k.length;t++)if(z=void 0,w=k[t],H(w)?p&&(z=p[w]):(z=w,w=w.field),r)r[t]=this.i[w].searchAsync(a,b,z||c);else{d?x=d[t]:x=this.i[w].search(a,b,z||c);z=x.length;if(l&&z){var J=[],pa=0;q&&(J[0]=[x]);var V=0,D=void 0;for(D=void 0;V<l.length;V++)if(D=l[V],z=(D=this.h[D])&&D.length)pa++,J[J.length]=q?[D]:D;pa&&(x=q?oa(J,b||100,m||0):qa(x,J),z=x.length)}if(z)g[h]=w,f[h++]=x;else if(q)return[]}if(r){var Ca=this;return new Promise(function(Da){Promise.all(r).then(function(Ea){Da(Ca.search(a,
b,c,Ea))})})}if(!h)return[];if(e&&(!n||!this.store))return f[0];l=0;for(m=void 0;l<g.length;l++){m=f[l];m.length&&n&&(m=Ba.call(this,m));if(e)return m;f[l]={field:g[l],result:m}}return f};function Aa(a,b,c,d){var f=this.h[a],g=f&&f.length-c;if(g&&0<g){if(g>b||c)f=f.slice(c,c+b);d&&(f=Ba.call(this,f));return{tag:a,result:f}}}function Ba(a){for(var b=Array(a.length),c=0,d;c<a.length;c++)d=a[c],b[c]={key:d,doc:this.store[d]};return b}u.contain=function(a){return!!this.register[a]};u.get=function(a){return this.store[a]};
u.set=function(a,b){this.store[a]=b;return this};u.searchCache=ra;u.export=function(a,b,c,d,f){f||(f=0);d||(d=0);if(d<this.g.length){var g=this.g[d],e=this.i[g];b=this;setTimeout(function(){e.export(a,b,f?g.replace(":","-"):"",d,f++)||(d++,f=1,b.export(a,b,g,d,f))})}else{switch(f){case 1:c="tag";var h=this.h;break;case 2:c="store";h=this.store;break;default:return}ta(a,this,c,d,f,h)}};
u.import=function(a,b){if(b)switch(H(b)&&(b=JSON.parse(b)),a){case "tag":this.h=b;break;case "reg":this.m=!1;this.register=b;a=0;for(var c;a<this.g.length;a++)c=this.i[this.g[a]],c.register=b,c.m=!1;break;case "store":this.store=b;break;default:a=a.split("."),c=a[0],a=a[1],c&&a&&this.i[c].import(a,b)}};na(S.prototype);var X=self,Y,Z={Index:N,Document:S,Worker:Q,registerCharset:function(a,b){la[a]=b},registerLanguage:function(a,b){ka[a]=b}};(Y=X.define)&&Y.amd?Y([],function(){return Z}):X.exports?X.exports=Z:X.FlexSearch=Z;}(this));
